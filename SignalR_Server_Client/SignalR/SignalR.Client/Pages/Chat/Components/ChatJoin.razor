<div class="join-section">
    <input value="@User" @oninput="OnUserInput" placeholder="Enter your name" class="input-field" />
    <select value="@Language" @onchange="OnLanguageChanged" class="input-field" style="margin-left: 10px;">
        <option value="en">English</option>
        <option value="es">Spanish</option>
        <option value="fr">French</option>
        <option value="de">German</option>
        <option value="zh">Chinese</option>
        <option value="ar">Arabic</option>
        <option value="ru">Russian</option>
    </select>
    <button @onclick="OnJoinClicked" class="btn btn-primary">Join Chat</button>
</div>

@code {
    [Parameter] public string User { get; set; } = string.Empty;
    [Parameter] public EventCallback<string> UserChanged { get; set; }
    [Parameter] public string? Language { get; set; } = "en";
    [Parameter] public EventCallback<string?> LanguageChanged { get; set; }
    [Parameter] public EventCallback OnJoin { get; set; }

    private async Task OnUserInput(ChangeEventArgs e)
    {
        var value = e.Value?.ToString() ?? "";
        User = value;
        await UserChanged.InvokeAsync(value);
    }

    private async Task OnLanguageChanged(ChangeEventArgs e)
    {
        var value = e.Value?.ToString();
        Language = value;
        await LanguageChanged.InvokeAsync(value);
    }

    private async Task OnJoinClicked()
    {
        await OnJoin.InvokeAsync();
    }
}